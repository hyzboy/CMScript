set(DEVIL_VM_PUBLIC_HEADERS
	${CMSCRIPT_ROOT_INCLUDE_PATH}/hgl/devil/DevilVM.h
	${CMSCRIPT_ROOT_INCLUDE_PATH}/hgl/devil/DevilModule.h
	${CMSCRIPT_ROOT_INCLUDE_PATH}/hgl/devil/DevilContext.h
	${CMSCRIPT_ROOT_INCLUDE_PATH}/hgl/devil/DevilBytecode.h
)

set(DEVIL_VM_TOKEN_FILES
	${CMAKE_CURRENT_SOURCE_DIR}/as_tokendef.h
	${CMAKE_CURRENT_SOURCE_DIR}/as_tokenizer.h
	${CMAKE_CURRENT_SOURCE_DIR}/as_tokenizer.cpp
)

set(DEVIL_VM_COMMAND_FILES
	${CMAKE_CURRENT_SOURCE_DIR}/DevilCommand.h
	${CMAKE_CURRENT_SOURCE_DIR}/DevilCommand.cpp
)

set(DEVIL_VM_AST_FILES
	${CMAKE_CURRENT_SOURCE_DIR}/DevilAst.h
	${CMAKE_CURRENT_SOURCE_DIR}/DevilAst.cpp
)

set(DEVIL_VM_MODULE_FILES
	${CMAKE_CURRENT_SOURCE_DIR}/DevilModule.cpp
)

set(DEVIL_VM_CONTEXT_FILES
	${CMAKE_CURRENT_SOURCE_DIR}/DevilContext.cpp
)

set(DEVIL_VM_ENUM_FILES
	${CMAKE_CURRENT_SOURCE_DIR}/DevilEnum.h
)

set(DEVIL_VM_FUNC_FILES
	${CMAKE_CURRENT_SOURCE_DIR}/DevilFunc.h
	${CMAKE_CURRENT_SOURCE_DIR}/DevilFunc.cpp
)

set(DEVIL_VM_PARSE_FILES
	${CMAKE_CURRENT_SOURCE_DIR}/DevilParse.h
	${CMAKE_CURRENT_SOURCE_DIR}/DevilParse.cpp
)

set(DEVIL_VM_VARIABLE_FILES
	${CMAKE_CURRENT_SOURCE_DIR}/DevilVariable.h
)

set(DEVIL_VM_CORE_FILES
)

set(DEVIL_VM_BYTECODE_FILES
	${CMAKE_CURRENT_SOURCE_DIR}/DevilBytecode.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/DevilBytecodeBuilder.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/DevilBytecodeNative.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/DevilBytecodeDisasm.cpp
)

if(MSVC AND CMAKE_SIZEOF_VOID_P EQUAL 8)
	list(APPEND DEVIL_VM_CORE_FILES
		${CMAKE_CURRENT_SOURCE_DIR}/MicrosoftCallX64.obj
	)
endif()

set(DEVILSCRIPT_SOURCE
	${DEVIL_VM_PUBLIC_HEADERS}
	${DEVIL_VM_TOKEN_FILES}
	${DEVIL_VM_COMMAND_FILES}
	${DEVIL_VM_AST_FILES}
	${DEVIL_VM_MODULE_FILES}
	${DEVIL_VM_CONTEXT_FILES}
	${DEVIL_VM_ENUM_FILES}
	${DEVIL_VM_FUNC_FILES}
	${DEVIL_VM_PARSE_FILES}
	${DEVIL_VM_VARIABLE_FILES}
	${DEVIL_VM_BYTECODE_FILES}
	${DEVIL_VM_CORE_FILES}
)
source_group("DevilVM\\Public" FILES ${DEVIL_VM_PUBLIC_HEADERS})
source_group("DevilVM\\Token" FILES ${DEVIL_VM_TOKEN_FILES})
source_group("DevilVM\\Command" FILES ${DEVIL_VM_COMMAND_FILES})
source_group("DevilVM\\Ast" FILES ${DEVIL_VM_AST_FILES})
source_group("DevilVM\\Module" FILES ${DEVIL_VM_MODULE_FILES})
source_group("DevilVM\\Context" FILES ${DEVIL_VM_CONTEXT_FILES})
source_group("DevilVM\\Enum" FILES ${DEVIL_VM_ENUM_FILES})
source_group("DevilVM\\Func" FILES ${DEVIL_VM_FUNC_FILES})
source_group("DevilVM\\Parse" FILES ${DEVIL_VM_PARSE_FILES})
source_group("DevilVM\\Variable" FILES ${DEVIL_VM_VARIABLE_FILES})
source_group("DevilVM\\Bytecode" FILES ${DEVIL_VM_BYTECODE_FILES})
source_group("DevilVM\\Core" FILES ${DEVIL_VM_CORE_FILES})

set(DEVIL_SCRIPT_SOURCES ${DEVILSCRIPT_SOURCE})
set(DEVIL_SCRIPT_INCLUDE_DIRS ${CMSCRIPT_ROOT_INCLUDE_PATH})

set(DEVIL_SCRIPT_SOURCES ${DEVIL_SCRIPT_SOURCES} PARENT_SCOPE)
set(DEVIL_SCRIPT_INCLUDE_DIRS ${DEVIL_SCRIPT_INCLUDE_DIRS} PARENT_SCOPE)
